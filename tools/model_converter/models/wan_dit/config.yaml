# Wan DiT Model Configuration

model:
  name: wan_dit
  description: "Wan DiT series models for I2V/T2V generation"
  architectures:
    - Wan2.1-I2V-14B
    - Wan2.1-T2V-14B
    - Wan-Animate-DiT

# Quantization configuration
quantization:
  # Modules to quantize
  target_modules:
    - self_attn
    - cross_attn
    - ffn
  
  # Key index for module identification (e.g., blocks.0.self_attn -> idx=2)
  key_idx: 2
  
  # Keys to ignore during quantization
  ignore_keys:
    - ca  # Audio adapter
    - audio

# Format conversion support
formats:
  supported:
    - lightx2v  # Native format
    - diffusers  # HuggingFace Diffusers
    - comfyui   # ComfyUI
  
  default_layout:
    lightx2v: by_block
    diffusers: chunked
    comfyui: single_file

# Model variants
variants:
  wan_dit:
    description: "Standard Wan DiT"
    quantization:
      target_modules: [self_attn, cross_attn, ffn]
      ignore_keys: [ca, audio]
  
  wan_animate_dit:
    description: "Wan Animate DiT with adapter"
    quantization:
      target_modules: [self_attn, cross_attn, ffn]
      adapter_keys: [linear1_kv, linear1_q, linear2]
      ignore_keys: null

